Месье Бэзликов, [8/15/2022 12:39 PM]
а что задача на проверку правильной скобочной последовательности
делает в разделе "префиксные суммы и два указателя" — вроде, такие задачи решаются с помощью стека...

Pleakleeeeey, [8/15/2022 12:41 PM]
[In reply to Месье Бэзликов]
Вы права можно решить стэком 

но можно решить ведь и префиксными суммами

Slava Muravjev, [8/15/2022 12:49 PM]
на самом деле это одно и то же решение (присут-т явная связь между префикс-суммами, балансом и стеком)

Slava Muravjev, [8/15/2022 12:49 PM]
мы ведь говорим об условии "префикс-баланс никогда не становится ниже 0"

Slava Muravjev, [8/15/2022 12:50 PM]
где баланс - это сумма +1 для ( и -1 для )

Slava Muravjev, [8/15/2022 12:50 PM]
в решении на стеке ( добавляется в стек (делаем +1 к размеру), а ) удаляет скобку из стека (делает -1 к размеру)

Slava Muravjev, [8/15/2022 12:50 PM]
то есть баланс в задачах на ПСП - это просто размер виртуального стека

Slava Muravjev, [8/15/2022 12:51 PM]
а условие "префикс-баланс не должен быть ниже 0" == "мы не должны пытаться достать скобку из пустого стека"


Slava Muravjev, [8/15/2022 12:55 PM]
я знаю только решение стеком / балансом

Slava Muravjev, [8/15/2022 12:55 PM]
и проходом в цикле


Pleakleeeeey, [8/15/2022 1:01 PM]
[In reply to Slava Muravjev]
в рамках задачи проверить строку S на ПСП ,то да 

но всё равно думаю нужно знать про решение такое(через префиксные). 
Есть задача ещё "строка S, потом к ней приходят запросы l,r. нужно ответить является ли s_l..s_r - ПСП, и запрос на изменение элемента в позиции" 

вот там полезно знать про решение через префиксные суммы, а не только стэк.

P.S мб можно и выше задачу решать быстро через стэк, но я такого решения не знаю

Slava Muravjev, [8/15/2022 1:02 PM]
[In reply to Pleakleeeeey]
Вы точно прочитали, что я писал выше?

Yury Shkrobov, [8/15/2022 1:03 PM]
[In reply to Pleakleeeeey]
задача которую вы сказали также решается через число

Yury Shkrobov, [8/15/2022 1:04 PM]
[In reply to Yury Shkrobov]
просто срез по индексам берём и также через число решаем

Slava Muravjev, [8/15/2022 1:06 PM]
[In reply to Yury Shkrobov]
Там берется минимум по префикс-балансам на отрезке

Yury Shkrobov, [8/15/2022 1:06 PM]
[In reply to Slava Muravjev]
?

Slava Muravjev, [8/15/2022 1:06 PM]
По сути любым эффективным способом решения задачи rmq

Slava Muravjev, [8/15/2022 1:10 PM]
[In reply to Yury Shkrobov]
Баланс среза [l..r] в точке k равен pref[k] - pref[l] (ну там +-1 индексы я не буду учитывать)

Мы хотим понять, все ли разности pref[k] - pref[l] >= 0

Это аналогично задаче "понять, есть ли pref[k] - pref[l] < 0"

В любом случае вместо O(r-l) проверок всех балансов нам достаточно найти минимальный pref[k] и проверить только для него

Значит мы пришли к задаче rmq (range minimum query), которая эффективно решается 
- разреженной таблицей (sparse table)
- деревом отрезков (segment tree)
- ну и другими штуками

Pleakleeeeey, [8/15/2022 1:14 PM]
[In reply to Slava Muravjev]
Вы писали про связь между балансом, префиксами и стэком. 
 Я в своем сообщении сказал, что в действительно это одно и то же. 

Смысл моего сообщения был лишь в том, что бывает полезно знать и другое решение задачи о проверки строки на ПСП. 
Далее я привел пример задачу. Где может быть полезно умение решать обычную задачу на проверку через префиксные суммы.

P.S Ваши сообщения отдают долькой токсичности. По крайне мере так показалось

Slava Muravjev, [8/15/2022 1:14 PM]
[In reply to Pleakleeeeey]
Я честно не несу в своих мыслях быть токсиком или как-то кого-то принижать / оскорблять - извиняюсь, если так показалось

Yury Shkrobov, [8/15/2022 1:16 PM]
[In reply to Pleakleeeeey]
нее, Слава чисто фактит не более

Slava Muravjev, [8/15/2022 1:17 PM]
[In reply to Pleakleeeeey]
Вы в своем сообщении как раз отделяете решения через стек и баланс

"Для данной задачи надо знать решение через префикс-суммы (префикс -баланс)"
Я так понимаю, что этой фразой говорите "да, есть решение стеком, но еще есть решение через баланс"

А я явно уточнил, что баланс есть размер виртуального стека
Поэтому говорить о "различных подходах", о "надо знать решение еще и через это" некорректно с моей точки зрения
Это один и тот же подход, просто с разной степенью оптимизации

Slava Muravjev, [8/15/2022 1:18 PM]
По сути я придумал решение через стек
Дальше я сказал "мне не нужны позиции скобок, нужен только размер стека" - так я получил баланс
Дальше мне понадобилось хранить балансы для всех индексов - так появились префикс-суммы (префикс-баланс)
